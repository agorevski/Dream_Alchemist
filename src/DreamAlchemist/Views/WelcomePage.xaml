<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:DreamAlchemist.ViewModels"
             x:Class="DreamAlchemist.Views.WelcomePage"
             x:DataType="vm:WelcomeViewModel"
             Shell.NavBarIsVisible="False"
             BackgroundColor="#0F0F1E">

    <ScrollView>
        <VerticalStackLayout Padding="30" 
                           Spacing="40"
                           VerticalOptions="Center"
                           MinimumHeightRequest="600">
            
            <!-- Title Section -->
            <VerticalStackLayout Spacing="10" Margin="0,40,0,0">
                <Label Text="✨"
                       FontSize="60"
                       HorizontalOptions="Center"/>
                
                <Label Text="Dream Alchemist"
                       FontSize="42"
                       FontAttributes="Bold"
                       TextColor="#8B5CF6"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"/>
                
                <Label Text="A Surreal Trading Adventure"
                       FontSize="16"
                       TextColor="#9CA3AF"
                       HorizontalOptions="Center"
                       Margin="0,5,0,0"/>
            </VerticalStackLayout>

            <!-- Decorative Frame -->
            <Frame BackgroundColor="#1A1A2E" 
                   CornerRadius="20" 
                   Padding="25"
                   BorderColor="#8B5CF6"
                   HasShadow="True"
                   Margin="0,20,0,0">
                <VerticalStackLayout Spacing="15">
                    <Label Text="🌙 Trade mysterious dream ingredients"
                           FontSize="14"
                           TextColor="#E5E7EB"
                           Margin="0,0,0,5"/>
                    <Label Text="🧪 Synthesize powerful dreams in your lab"
                           FontSize="14"
                           TextColor="#E5E7EB"
                           Margin="0,0,0,5"/>
                    <Label Text="🗺️ Explore surreal cities across the dreamscape"
                           FontSize="14"
                           TextColor="#E5E7EB"
                           Margin="0,0,0,5"/>
                    <Label Text="📈 Build your reputation and unlock new tiers"
                           FontSize="14"
                           TextColor="#E5E7EB"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Menu Buttons -->
            <VerticalStackLayout Spacing="20" Margin="0,20,0,0">
                <Button Text="✨ Start New Game"
                        Command="{Binding StartNewGameCommand}"
                        BackgroundColor="#8B5CF6"
                        TextColor="White"
                        HeightRequest="70"
                        FontSize="20"
                        FontAttributes="Bold"
                        CornerRadius="15"
                        Shadow="{Shadow Brush=#8B5CF6, Opacity=0.5, Radius=10, Offset='0,5'}"/>
                
                <Button Text="📖 Continue Game"
                        Command="{Binding ContinueGameCommand}"
                        IsEnabled="{Binding HasExistingSave}"
                        BackgroundColor="#06B6D4"
                        TextColor="White"
                        HeightRequest="70"
                        FontSize="20"
                        FontAttributes="Bold"
                        CornerRadius="15"
                        Shadow="{Shadow Brush=#06B6D4, Opacity=0.5, Radius=10, Offset='0,5'}">
                    <Button.Triggers>
                        <DataTrigger TargetType="Button" 
                                   Binding="{Binding HasExistingSave}" 
                                   Value="False">
                            <Setter Property="BackgroundColor" Value="#374151"/>
                            <Setter Property="TextColor" Value="#6B7280"/>
                            <Setter Property="Shadow" Value="{x:Null}"/>
                        </DataTrigger>
                    </Button.Triggers>
                </Button>
            </VerticalStackLayout>

            <!-- Save Status Message -->
            <Label Text="{Binding SaveStatusMessage}"
                   FontSize="13"
                   TextColor="#9CA3AF"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center"
                   IsVisible="{Binding SaveStatusMessage, Converter={StaticResource StringIsNotNullOrEmptyConverter}}"
                   Margin="0,10,0,0"/>

            <!-- Error Message -->
            <Label Text="{Binding ErrorMessage}"
                   TextColor="#EF4444"
                   FontSize="14"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center"
                   IsVisible="{Binding ErrorMessage, Converter={StaticResource StringIsNotNullOrEmptyConverter}}"/>

            <!-- Loading Indicator -->
            <ActivityIndicator IsRunning="{Binding IsBusy}"
                              IsVisible="{Binding IsBusy}"
                              Color="#8B5CF6"
                              HeightRequest="40"
                              WidthRequest="40"/>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
